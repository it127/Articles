<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexusBlog - Modern Article Platform</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <style>
        :root {
            --bg-primary: #0a0f0d;
            --bg-secondary: #1a1f1d;
            --bg-card: #1a1f1d;
            --text-primary: #ffffff;
            --text-secondary: #e0e0e0;
            --accent: #c4ff4d;
            --accent-hover: #b0e044;
            --border-color: #2a2f2d;
            --highlight-color: #c4ff4d;
            --code-bg: #282c34;
            --scrollbar-bg: #1a1f1d;
            --scrollbar-thumb: #3a3f3d;
            --scrollbar-thumb-hover: #c4ff4d;
            --gradient-start: #0a0f0d;
            --gradient-end: #1a1f1d;
            --overlay: rgba(10, 15, 13, 0.8);
            --card-hover: #222725;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 100%);
            color: var(--text-secondary);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            line-height: 1.6;
            font-size: 18px;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--scrollbar-bg);
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--scrollbar-thumb);
            border-radius: 6px;
            transition: background 0.3s ease;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--scrollbar-thumb-hover);
        }

        * {
            scrollbar-width: thin;
            scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-bg);
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: var(--text-primary);
            font-weight: 700;
            line-height: 1.2;
        }

        h1 {
            font-size: 3.5rem;
        }

        h2 {
            font-size: 2.5rem;
        }

        h3 {
            font-size: 2rem;
        }

        h4 {
            font-size: 1.5rem;
        }

        h5 {
            font-size: 1.25rem;
        }

        h6 {
            font-size: 1rem;
        }

        p {
            margin-bottom: 1.5rem;
        }

        a {
            color: var(--accent);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        a:hover {
            color: var(--accent-hover);
        }

        /* Navigation */
        .navbar {
            background-color: var(--bg-secondary) !important;
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.3);
            position: fixed;
            top: 0;
            height: 150px;
            width: 100%;
            z-index: 1000;
            padding: 15px 0;
        }

        .navbar-brand {
            color: var(--accent) !important;
            font-weight: bold;
            font-size: 1.8rem;
            letter-spacing: -0.5px;
        }

        .navbar-nav .nav-link {
            color: var(--text-secondary) !important;
            font-weight: 500;
            padding: 8px 15px;
            transition: color 0.3s ease;
        }

        .navbar-nav .nav-link:hover {
            color: var(--accent) !important;
        }

        .navbar-toggler {
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .navbar-toggler:focus {
            box-shadow: none;
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 100%);
            padding: 150px 0 100px;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2072&q=80') no-repeat center center;
            background-size: cover;
            opacity: 0.1;
            z-index: 0;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero-title {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 20px;
            line-height: 1.1;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            color: var(--text-secondary);
        }

        .hero-cta {
            background-color: var(--accent);
            color: var(--bg-primary);
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .hero-cta:hover {
            background-color: var(--accent-hover);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(196, 255, 77, 0.2);
        }

        /* Featured Articles */
        .section-title {
            color: var(--text-primary);
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 40px;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 60px;
            height: 4px;
            background-color: var(--accent);
        }

        .featured-articles {
            padding: 100px 0;
        }

        .featured-card {
            background-color: var(--bg-card);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .featured-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            border-color: var(--accent);
        }

        .featured-img {
            height: 250px;
            width: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .featured-card:hover .featured-img {
            transform: scale(1.05);
        }

        .featured-content {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .category-tag {
            background-color: var(--accent);
            color: var(--bg-primary);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: inline-block;
            margin-bottom: 15px;
        }

        .featured-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            line-height: 1.3;
        }

        .featured-excerpt {
            color: var(--text-secondary);
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .article-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
            font-size: 0.9rem;
            color: #888;
        }

        .author-info {
            display: flex;
            align-items: center;
        }

        .author-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            margin-right: 10px;
        }

        /* Latest Articles */
        .latest-articles {
            padding: 100px 0;
            background-color: var(--bg-secondary);
        }

        .masonry-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
        }

        .article-card {
            background-color: var(--bg-card);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            position: relative;
        }

        .article-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            border-color: var(--accent);
        }

        .article-img-container {
            position: relative;
            overflow: hidden;
            height: 200px;
        }

        .article-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .article-card:hover .article-img {
            transform: scale(1.1);
        }

        .article-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent 0%, var(--overlay) 100%);
            display: flex;
            align-items: flex-end;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .article-card:hover .article-overlay {
            opacity: 1;
        }

        .read-article-btn {
            background-color: var(--accent);
            color: var(--bg-primary);
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .read-article-btn:hover {
            background-color: var(--accent-hover);
            transform: translateY(-3px);
        }

        .article-content {
            padding: 20px;
        }

        .article-date {
            background-color: var(--accent);
            color: var(--bg-primary);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            font-weight: 600;
            position: absolute;
            top: 15px;
            left: 15px;
            z-index: 2;
        }

        .article-category {
            color: var(--accent);
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
        }

        .article-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            line-height: 1.3;
        }

        .article-excerpt {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 15px;
        }

        /* Trending Topics */
        .trending-topics {
            padding: 100px 0;
        }

        .trending-card {
            background-color: var(--bg-card);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            position: relative;
            height: 300px;
        }

        .trending-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .trending-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .trending-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent 0%, var(--overlay) 100%);
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 25px;
        }

        .trending-category {
            color: var(--accent);
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
        }

        .trending-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            line-height: 1.3;
        }

        .trending-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #888;
        }

        /* Featured Categories */
        .featured-categories {
            padding: 100px 0;
            background-color: var(--bg-secondary);
        }

        .category-card {
            background-color: var(--bg-card);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            height: 200px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            border-color: var(--accent);
        }

        .category-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.7;
        }

        .category-content {
            position: relative;
            z-index: 1;
        }

        .category-name {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .category-count {
            font-size: 1rem;
            color: var(--accent);
        }

        /* Sidebar */
        .sidebar {
            background-color: var(--bg-card);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--border-color);
            margin-bottom: 30px;
        }

        .sidebar-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent);
        }

        .popular-post {
            display: flex;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .popular-post:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .popular-number {
            background-color: var(--accent);
            color: var(--bg-primary);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .popular-content h4 {
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .popular-content .post-meta {
            font-size: 0.8rem;
            color: #888;
        }

        .search-box {
            position: relative;
            margin-bottom: 25px;
        }

        .search-input {
            width: 100%;
            padding: 12px 20px;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 30px;
            color: var(--text-secondary);
            font-size: 1rem;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .search-btn {
            position: absolute;
            right: 5px;
            top: 5px;
            background-color: var(--accent);
            color: var(--bg-primary);
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .newsletter-form {
            margin-top: 20px;
        }

        .newsletter-input {
            width: 100%;
            padding: 12px 15px;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .newsletter-input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .newsletter-btn {
            width: 100%;
            background-color: var(--accent);
            color: var(--bg-primary);
            border: none;
            padding: 12px;
            border-radius: 5px;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }

        .newsletter-btn:hover {
            background-color: var(--accent-hover);
        }

        .categories-list {
            list-style: none;
            padding: 0;
        }

        .categories-list li {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .categories-list li:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .categories-list a {
            display: flex;
            justify-content: space-between;
            color: var(--text-secondary);
        }

        .categories-list a:hover {
            color: var(--accent);
        }

        .tag-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .tag {
            background-color: var(--bg-secondary);
            color: var(--text-secondary);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .tag:hover {
            background-color: var(--accent);
            color: var(--bg-primary);
            border-color: var(--accent);
        }

        /* Footer */
        .footer {
            background-color: var(--bg-secondary);
            padding: 60px 0 30px;
            border-top: 1px solid var(--border-color);
        }

        .footer-logo {
            color: var(--accent);
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 20px;
            display: inline-block;
        }

        .footer-description {
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .social-links {
            display: flex;
            gap: 15px;
        }

        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: var(--bg-card);
            color: var(--text-secondary);
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background-color: var(--accent);
            color: var(--bg-primary);
            transform: translateY(-3px);
        }

        .footer-heading {
            color: var(--text-primary);
            font-size: 1.2rem;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-heading::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background-color: var(--accent);
        }

        .footer-links {
            list-style: none;
            padding: 0;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--accent);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            margin-top: 50px;
            border-top: 1px solid var(--border-color);
            color: #888;
            font-size: 0.9rem;
        }

        /* Article Page */
        .article-hero {
            background: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 100%);
            padding: 150px 0 80px;
            position: relative;
            overflow: hidden;
        }

        .article-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://images.unsplash.com/photo-1499750310107-5fef28a66643?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80') no-repeat center center;
            background-size: cover;
            opacity: 0.1;
            z-index: 0;
        }

        .article-hero-content {
            position: relative;
            z-index: 1;
        }

        .article-hero-title {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 20px;
            line-height: 1.1;
        }

        .article-meta-bar {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
            font-size: 1rem;
            color: #888;
        }

        .article-meta-item {
            display: flex;
            align-items: center;
        }

        .article-meta-item i {
            margin-right: 8px;
            color: var(--accent);
        }

        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background-color: var(--accent);
            z-index: 1001;
            transition: width 0.3s ease;
        }

        .article-content {
            padding: 80px 0;
        }

        .article-body {
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .article-body h2 {
            margin-top: 40px;
            margin-bottom: 20px;
        }

        .article-body h3 {
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .article-body blockquote {
            border-left: 4px solid var(--accent);
            padding-left: 20px;
            margin: 30px 0;
            font-style: italic;
            color: #ccc;
            font-size: 1.2rem;
        }

        .article-body pre {
            background-color: var(--code-bg);
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
        }

        .article-body code {
            background-color: var(--code-bg);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
        }

        .article-body img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 20px 0;
        }

        .article-body ul, .article-body ol {
            margin-bottom: 20px;
            padding-left: 30px;
        }

        .article-body li {
            margin-bottom: 10px;
        }

        .social-share {
            display: flex;
            gap: 10px;
            margin: 40px 0;
        }

        .share-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: var(--bg-card);
            color: var(--text-secondary);
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .share-btn:hover {
            background-color: var(--accent);
            color: var(--bg-primary);
            transform: translateY(-3px);
        }

        .author-bio {
            background-color: var(--bg-card);
            border-radius: 12px;
            padding: 30px;
            margin: 60px 0;
            display: flex;
            gap: 20px;
            border: 1px solid var(--border-color);
        }

        .author-avatar-large {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .author-info h3 {
            margin-bottom: 10px;
        }

        .author-info p {
            margin-bottom: 0;
        }

        .related-articles {
            margin: 60px 0;
        }

        .comments-section {
            margin: 60px 0;
        }

        .comment-form {
            background-color: var(--bg-card);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 40px;
            border: 1px solid var(--border-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            color: var(--text-secondary);
            font-size: 1rem;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent);
        }

        .submit-btn {
            background-color: var(--accent);
            color: var(--bg-primary);
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }

        .submit-btn:hover {
            background-color: var(--accent-hover);
        }

        .comment {
            background-color: var(--bg-card);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .comment-author {
            font-weight: 600;
        }

        .comment-date {
            color: #888;
            font-size: 0.9rem;
        }

        /* Utility Classes */
        .text-accent {
            color: var(--accent);
        }

        .bg-card {
            background-color: var(--bg-card);
        }

        .btn-accent {
            background-color: var(--accent);
            color: var(--bg-primary);
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }

        .btn-accent:hover {
            background-color: var(--accent-hover);
        }

        /* Original App Styles */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            margin-top: 80px;
        }

        .header {
            text-align: center;
            margin: 30px 0;
            position: relative;
        }

        .header h1 {
            color: var(--accent);
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(196, 255, 77, 0.3);
        }

        .header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .status-bar {
            background-color: var(--bg-card);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--border-color);
        }

        .status-indicator {
            display: flex;
            align-items: center;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #4caf50;
            margin-right: 10px;
            animation: pulse 2s infinite;
        }

        .status-dot.offline {
            background-color: #f44336;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(76, 175, 80, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0);
            }
        }

        .next-update {
            color: #9e9e9e;
            font-size: 0.9rem;
        }

        .article-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .article-card-original {
            background-color: var(--bg-card);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .article-card-original:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
        }

        .article-header {
            padding: 15px;
            background-color: var(--accent);
            color: var(--bg-primary);
            position: relative;
        }

        .article-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 5px;
            padding-right: 30px;
        }

        .article-meta-original {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .article-content-original {
            padding: 20px;
            flex-grow: 1;
            overflow-y: auto;
            max-height: 300px;
            scroll-behavior: smooth;
        }

        .article-content-original::-webkit-scrollbar {
            width: 8px;
        }

        .article-content-original::-webkit-scrollbar-track {
            background: rgba(26, 26, 46, 0.3);
            border-radius: 4px;
        }

        .article-content-original::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 4px;
        }

        .article-content-original::-webkit-scrollbar-thumb:hover {
            background: var(--accent-hover);
        }

        .article-footer {
            padding: 10px 15px;
            background-color: rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .fullscreen-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .fullscreen-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .loading-spinner {
            display: none;
            text-align: center;
            margin: 20px 0;
        }

        .spinner-border {
            width: 3rem;
            height: 3rem;
            color: var(--accent);
        }

        .notification {
            position: fixed;
            top: 80px;
            right: 20px;
            background-color: var(--bg-card);
            color: var(--text-secondary);
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            border-left: 4px solid var(--accent);
            transform: translateX(120%);
            transition: transform 0.3s ease;
            z-index: 1000;
            max-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--accent);
        }

        .notification-message {
            font-size: 0.9rem;
        }

        .empty-state {
            text-align: center;
            padding: 50px 20px;
            color: #9e9e9e;
        }

        .empty-state i {
            font-size: 4rem;
            margin-bottom: 20px;
            color: var(--border-color);
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .btn-custom {
            background-color: var(--accent);
            color: var(--bg-primary);
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .btn-custom:hover {
            background-color: var(--accent-hover);
        }

        .btn-custom:disabled {
            background-color: #555;
            cursor: not-allowed;
        }

        .offline-indicator {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: #f44336;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            display: none;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .offline-indicator.show {
            display: flex;
        }

        .offline-indicator i {
            margin-right: 10px;
        }

        /* Full Screen Modal */
        .fullscreen-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            overflow-y: auto;
            scroll-behavior: smooth;
        }

        .fullscreen-modal.show {
            display: block;
        }

        .fullscreen-content {
            max-width: 900px;
            margin: 50px auto;
            padding: 30px;
            background-color: var(--bg-card);
            border-radius: 10px;
            position: relative;
        }

        .close-fullscreen {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--accent);
            border: none;
            color: var(--bg-primary);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            transition: transform 0.3s;
        }

        .close-fullscreen:hover {
            transform: rotate(90deg);
        }

        .fullscreen-article-content {
            color: var(--text-secondary);
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .article-highlight {
            border: 2px solid var(--accent);
            box-shadow: 0 0 20px rgba(196, 255, 77, 0.5);
            animation: highlightPulse 2s ease-in-out;
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 20px rgba(196, 255, 77, 0.5); }
            50% { box-shadow: 0 0 30px rgba(196, 255, 77, 0.8); }
            100% { box-shadow: 0 0 20px rgba(196, 255, 77, 0.5); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .article-hero-title {
                font-size: 2.5rem;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            h2 {
                font-size: 2rem;
            }
            
            .masonry-grid {
                grid-template-columns: 1fr;
            }
            
            .author-bio {
                flex-direction: column;
                text-align: center;
            }
            
            .article-container {
                grid-template-columns: 1fr;
            }
            
            .status-bar {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn-custom {
                width: 100%;
                max-width: 200px;
            }
            
            .fullscreen-content {
                margin: 20px;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="#">NexusBlog</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <div class="hero-content">
                        <h1 class="hero-title">FEATURED ARTICLES</h1>
                        <p class="hero-subtitle">Discover the latest insights, trends, and stories from our expert writers</p>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="hero-image">
                        <img src="https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2072&q=80" alt="Featured Article" class="img-fluid rounded-3">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Original App Section -->
    <div class="container">
        <div class="header">
            <h1>AI-Powered Article Hub</h1>
            <p>Automatically generating fresh articles every 1-2 hours</p>
        </div>

        <div class="status-bar">
            <div class="status-indicator">
                <div class="status-dot" id="statusDot"></div>
                <span id="statusText">System Was Active</span>
            </div>
            <div class="next-update">
                <i class="far fa-clock me-1"></i>
                Next update in: <span id="countdown">--:--:--</span>
            </div>
        </div>

        <div class="controls">
            <button id="generateBtn" class="btn-custom">
                <i class="fas fa-sync-alt me-2"></i>Generate 15 Articles
            </button>
            <button id="offlineBtn" class="btn-custom">
                <i class="fas fa-wifi me-2"></i>Enable Offline Mode
            </button>
        </div>

        <div class="loading-spinner" id="loadingSpinner">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-3">Generating new articles...</p>
        </div>

        <div id="articlesContainer" class="article-container">
            <!-- Articles will be added here dynamically -->
        </div>

        <div id="emptyState" class="empty-state">
            <i class="fas fa-inbox"></i>
            <h3>No articles yet</h3>
            <p>The first articles will be generated shortly</p>
        </div>
    </div>

    <!-- Notifications and Modals -->
    <div id="notification" class="notification">
        <div class="notification-title">Notification</div>
        <div class="notification-message"></div>
    </div>

    <div id="offlineIndicator" class="offline-indicator">
        <i class="fas fa-wifi-slash"></i>
        <span>You are currently offline. Using cached articles.</span>
    </div>

    <!-- Full Screen Modal -->
    <div id="fullscreenModal" class="fullscreen-modal">
        <div class="fullscreen-content">
            <button class="close-fullscreen" onclick="closeFullscreen()">
                <i class="fas fa-times"></i>
            </button>
            <div id="fullscreenArticleContent" class="fullscreen-article-content">
                <!-- Article content will be inserted here -->
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>
        // Configuration
        const API_KEY = "prcess.env.API_KEY";
        const API_URL = "https://openrouter.ai/api/v1/chat/completions";
        const MODEL = "alibaba/tongyi-deepresearch-30b-a3b:free";
        
        // Article topics - ONLY these topics will be used
        const articleTopics = {
            india: [
                "The Rich Cultural Heritage of India",
                "India's Technological Advancements in the 21st Century",
                "The Diversity of Indian Cuisine Across Regions",
                "India's Space Program: From Aryabhata to Chandrayaan",
                "The Impact of Bollywood on Global Cinema",
                "Traditional Indian Medicine: Ayurveda in Modern Times",
                "The Economic Growth Story of India",
                "India's Wildlife Conservation Efforts",
                "The Festival Traditions of India",
                "India's Education System: Challenges and Opportunities"
            ],
            usa: [
                "The American Dream: Myth or Reality?",
                "The Tech Revolution in Silicon Valley",
                "American Cultural Influence Worldwide",
                "The US Healthcare System: Strengths and Weaknesses",
                "American National Parks: Preserving Natural Beauty"
            ],
            uk: [
                "The British Monarchy in the Modern Era",
                "The History of the British Empire",
                "The UK's Contribution to World Literature",
                "Brexit and Its Impact on the UK",
                "The National Health Service: A British Institution"
            ],
            japan: [
                "The Art of Japanese Tea Ceremony",
                "Japan's Technological Innovation and Robotics",
                "The Cultural Significance of Anime and Manga",
                "Japanese Cuisine: More Than Just Sushi",
                "The History of Samurai and Bushido"
            ]
        };

        // Enhanced article content templates for better offline generation
        const articleTemplates = {
            "The Rich Cultural Heritage of India": {
                intro: "India's cultural heritage spans thousands of years, encompassing diverse traditions, languages, and artistic expressions that have shaped one of the world's oldest civilizations.",
                points: [
                    "Ancient civilizations like the Indus Valley Civilization dating back to 3300 BCE",
                    "Classical dance forms such as Bharatanatyam, Kathak, and Odissi",
                    "Architectural marvels including the Taj Mahal, Khajuraho Temples, and ancient stepwells",
                    "Traditional festivals like Diwali, Holi, Eid, and Christmas celebrated across regions"
                ],
                conclusion: "India's cultural richness continues to influence global arts and traditions while preserving its unique identity through centuries of adaptation and evolution."
            },
            "India's Technological Advancements in the 21st Century": {
                intro: "India has emerged as a global technology hub, with significant advancements in IT, space exploration, and digital infrastructure transforming the nation's economic landscape.",
                points: [
                    "The IT revolution establishing India as a global software services leader",
                    "ISRO's successful Mars Orbiter Mission and Chandrayaan lunar explorations",
                    "Digital India initiative revolutionizing governance and citizen services",
                    "UPI payment system becoming a global benchmark for digital transactions"
                ],
                conclusion: "India's technological progress positions it as a key player in the global digital transformation, with innovations that address both local challenges and global opportunities."
            },
            "The Diversity of Indian Cuisine Across Regions": {
                intro: "Indian cuisine represents a rich tapestry of flavors, ingredients, and cooking techniques that vary dramatically across the country's diverse regions and cultures.",
                points: [
                    "North Indian cuisine featuring rich curries and tandoori preparations",
                    "South Indian dishes known for their rice-based preparations and coconut flavors",
                    "Coastal regions specializing in seafood and coconut-based curries",
                    "Street food culture offering diverse snacks from pani puri to vada pav"
                ],
                conclusion: "The incredible diversity of Indian cuisine reflects the country's cultural plurality, with each region contributing unique flavors to the national culinary identity."
            },
            "India's Space Program: From Aryabhata to Chandrayaan": {
                intro: "India's space program has evolved from humble beginnings to become one of the world's most respected and cost-effective space exploration agencies.",
                points: [
                    "The launch of Aryabhata, India's first satellite, in 1975",
                    "Development of the Polar Satellite Launch Vehicle (PSLV) series",
                    "The successful Mars Orbiter Mission on its first attempt",
                    "Chandrayaan missions expanding lunar exploration capabilities"
                ],
                conclusion: "ISRO's achievements demonstrate how focused scientific vision and efficient resource management can achieve world-class space exploration milestones."
            },
            "The American Dream: Myth or Reality?": {
                intro: "The concept of the American Dream has evolved significantly over centuries, reflecting changing social and economic realities while remaining a powerful cultural ideal.",
                points: [
                    "Historical origins in the Declaration of Independence and immigrant experiences",
                    "Post-World War II economic boom and suburban expansion",
                    "Contemporary challenges of wealth inequality and social mobility",
                    "The digital age redefining opportunities and success metrics"
                ],
                conclusion: "While the American Dream remains a powerful ideal, its accessibility continues to be debated in contemporary society, reflecting broader discussions about opportunity and equality."
            },
            "The British Monarchy in the Modern Era": {
                intro: "The British monarchy has adapted to changing times while maintaining its ceremonial and constitutional roles in a rapidly evolving democratic society.",
                points: [
                    "Constitutional monarchy and political neutrality in governance",
                    "Modernization efforts under recent monarchs addressing public expectations",
                    "Media representation and the monarchy's relationship with the press",
                    "Economic impact through tourism, heritage, and cultural diplomacy"
                ],
                conclusion: "The monarchy continues to evolve, balancing centuries of tradition with contemporary expectations in a modern democracy facing new social and political challenges."
            },
            "The Art of Japanese Tea Ceremony": {
                intro: "The Japanese tea ceremony, or Chanoyu, represents a profound cultural practice blending aesthetics, spirituality, and social interaction in carefully choreographed rituals.",
                points: [
                    "Historical development influenced by Zen Buddhist philosophy",
                    "The four principles of harmony, respect, purity, and tranquility",
                    "Traditional utensils and their symbolic meanings in the ceremony",
                    "Seasonal variations and contemporary adaptations of the practice"
                ],
                conclusion: "The tea ceremony remains a living tradition that embodies Japanese cultural values and aesthetic sensibilities, offering moments of contemplation in modern life."
            }
        };

        // State management
        let articles = [];
        let countdownInterval;
        let articleGenerationInterval;
        let isGenerating = false;
        let isOfflineMode = false;
        let selectedCountries = Object.keys(articleTopics);
        let usedTopics = {};

        // DOM elements
        const articlesContainer = document.getElementById('articlesContainer');
        const emptyState = document.getElementById('emptyState');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const countdownElement = document.getElementById('countdown');
        const generateBtn = document.getElementById('generateBtn');
        const offlineBtn = document.getElementById('offlineBtn');
        const notification = document.getElementById('notification');
        const statusDot = document.getElementById('statusDot');
        const statusText = document.getElementById('statusText');
        const offlineIndicator = document.getElementById('offlineIndicator');
        const fullscreenModal = document.getElementById('fullscreenModal');
        const fullscreenArticleContent = document.getElementById('fullscreenArticleContent');

        // Initialize the app
        function init() {
            loadArticlesFromStorage();
            renderArticles();
            startCountdown();
            scheduleNextArticleGeneration();
            checkOnlineStatus();
            
            // Check for shared article in URL
            checkForSharedArticle();
            
            // Event listeners
            generateBtn.addEventListener('click', generateArticles);
            offlineBtn.addEventListener('click', toggleOfflineMode);
            
            // Listen for online/offline events
            window.addEventListener('online', updateOnlineStatus);
            window.addEventListener('offline', updateOnlineStatus);
            
            // Initialize highlight.js for code syntax highlighting
            hljs.highlightAll();
        }

        // Check for shared article in URL
        function checkForSharedArticle() {
            const urlParams = new URLSearchParams(window.location.search);
            const articleId = urlParams.get('article');
            
            if (articleId) {
                const article = articles.find(a => a.id == articleId);
                if (article) {
                    setTimeout(() => {
                        openFullscreen(article);
                        // Highlight the article card
                        const articleCard = document.querySelector(`[data-article-id="${articleId}"]`);
                        if (articleCard) {
                            articleCard.classList.add('article-highlight');
                            articleCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }
                    }, 500);
                }
            }
        }

        // Load articles from localStorage
        function loadArticlesFromStorage() {
            const storedArticles = localStorage.getItem('autoGeneratedArticles');
            if (storedArticles) {
                articles = JSON.parse(storedArticles);
            }
            
            const storedUsedTopics = localStorage.getItem('usedTopics');
            if (storedUsedTopics) {
                usedTopics = JSON.parse(storedUsedTopics);
            }
            
            const storedOfflineMode = localStorage.getItem('offlineMode');
            if (storedOfflineMode === 'true') {
                isOfflineMode = true;
                offlineBtn.innerHTML = '<i class="fas fa-wifi me-2"></i>Disable Offline Mode';
            }
        }

        // Save articles to localStorage
        function saveArticlesToStorage() {
            localStorage.setItem('autoGeneratedArticles', JSON.stringify(articles));
            localStorage.setItem('usedTopics', JSON.stringify(usedTopics));
        }

        // Toggle offline mode
        function toggleOfflineMode() {
            isOfflineMode = !isOfflineMode;
            localStorage.setItem('offlineMode', isOfflineMode.toString());
            
            if (isOfflineMode) {
                offlineBtn.innerHTML = '<i class="fas fa-wifi me-2"></i>Disable Offline Mode';
                showNotification('Offline Mode Enabled', 'Articles will be generated using cached content when offline.');
            } else {
                offlineBtn.innerHTML = '<i class="fas fa-wifi me-2"></i>Enable Offline Mode';
                showNotification('Offline Mode Disabled', 'Articles will be generated using the API when online.');
            }
            
            updateOnlineStatus();
        }

        // Check online status
        function checkOnlineStatus() {
            updateOnlineStatus();
        }

        // Update online status UI
        function updateOnlineStatus() {
            if (navigator.onLine && !isOfflineMode) {
                statusDot.classList.remove('offline');
                statusText.textContent = 'System Active';
                offlineIndicator.classList.remove('show');
            } else {
                statusDot.classList.add('offline');
                statusText.textContent = isOfflineMode ? 'Offline Mode' : 'System Offline';
                offlineIndicator.classList.add('show');
            }
        }

        // Get a random topic that hasn't been used recently
        function getRandomTopic() {
            // If all topics have been used, reset the tracking
            let allTopicsUsed = true;
            for (const country of selectedCountries) {
                if (!usedTopics[country] || usedTopics[country].length < articleTopics[country].length) {
                    allTopicsUsed = false;
                    break;
                }
            }
            
            if (allTopicsUsed) {
                usedTopics = {};
            }
            
            // Initialize used topics for each country if needed
            for (const country of selectedCountries) {
                if (!usedTopics[country]) {
                    usedTopics[country] = [];
                }
            }
            
            // Get available topics with higher probability for India
            let availableTopics = [];
            for (const country of selectedCountries) {
                const countryTopics = articleTopics[country];
                const usedCountryTopics = usedTopics[country];
                
                for (const topic of countryTopics) {
                    if (!usedCountryTopics.includes(topic)) {
                        // Add India topics multiple times for higher probability
                        const multiplier = country === 'india' ? 3 : 1;
                        for (let i = 0; i < multiplier; i++) {
                            availableTopics.push(topic);
                        }
                    }
                }
            }
            
            // If no available topics (shouldn't happen with the reset above), use all topics
            if (availableTopics.length === 0) {
                for (const country of selectedCountries) {
                    const multiplier = country === 'india' ? 3 : 1;
                    for (let i = 0; i < multiplier; i++) {
                        availableTopics = availableTopics.concat(articleTopics[country]);
                    }
                }
            }
            
            // Select a random topic
            const topic = availableTopics[Math.floor(Math.random() * availableTopics.length)];
            
            // Mark this topic as used
            for (const country of selectedCountries) {
                if (articleTopics[country].includes(topic)) {
                    usedTopics[country].push(topic);
                    break;
                }
            }
            
            return topic;
        }

        // Generate 15 articles at once
        async function generateArticles() {
            if (isGenerating) return;
            
            isGenerating = true;
            generateBtn.disabled = true;
            loadingSpinner.style.display = 'block';
            
            try {
                const newArticles = [];
                const articlesToGenerate = 15;
                
                for (let i = 0; i < articlesToGenerate; i++) {
                    const topic = getRandomTopic();
                    
                    // Check if we're online or in offline mode
                    if (navigator.onLine && !isOfflineMode) {
                        try {
                            // Online mode - use API with simplified prompt (no coding instructions)
                            const response = await fetch(API_URL, {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                    "Authorization": `Bearer ${API_KEY}`
                                },
                                body: JSON.stringify({
                                    model: MODEL,
                                    messages: [
                                        {
                                            role: "system",
                                            content: "You are a professional article writer. Write informative, engaging articles with clear structure and proper formatting. Include a title and well-organized content with paragraphs."
                                        },
                                        {
                                            role: "user",
                                            content: `Write a comprehensive article about "${topic}". Include a catchy title and well-structured content with at least 4-5 paragraphs. Make it informative and engaging.`
                                        }
                                    ],
                                    temperature: 0.7,
                                    max_tokens: 0,
                                })
                            });
                            
                            if (response.ok) {
                                const data = await response.json();
                                const content = data.choices[0].message.content;
                                
                                // Create article object
                                const now = new Date();
                                const article = {
                                    id: Date.now() + i,
                                    title: extractTitle(content),
                                    content: content,
                                    date: now.toLocaleDateString(),
                                    time: now.toLocaleTimeString(),
                                    isOffline: false
                                };
                                
                                newArticles.push(article);
                            } else {
                                // If API fails, generate enhanced offline article
                                const article = generateEnhancedOfflineArticle(topic);
                                article.id = Date.now() + i;
                                newArticles.push(article);
                            }
                        } catch (error) {
                            console.error('API Error:', error);
                            // If API fails, generate enhanced offline article
                            const article = generateEnhancedOfflineArticle(topic);
                            article.id = Date.now() + i;
                            newArticles.push(article);
                        }
                    } else {
                        // Offline mode - generate an enhanced mock article
                        const article = generateEnhancedOfflineArticle(topic);
                        article.id = Date.now() + i;
                        newArticles.push(article);
                    }
                    
                    // Add a small delay between requests
                    await new Promise(resolve => setTimeout(resolve, 100));
                }
                
                // Add all new articles to the beginning of the array
                articles.unshift(...newArticles);
                
                // Save to storage and render
                saveArticlesToStorage();
                renderArticles();
                
                // Show notification
                showNotification('Articles Generated', `${newArticles.length} new articles have been added to your collection.`);
                
                // Reset countdown
                startCountdown();
                
            } catch (error) {
                console.error('Error generating articles:', error);
                showNotification('Error', 'Failed to generate articles. Please try again later.');
            } finally {
                isGenerating = false;
                generateBtn.disabled = false;
                loadingSpinner.style.display = 'none';
            }
        }

        // Extract title from content
        function extractTitle(content) {
            const lines = content.split('\n');
            for (const line of lines) {
                if (line.trim() && (line.startsWith('#') || !line.startsWith('*') && !line.startsWith('-'))) {
                    return line.replace(/^#+\s*/, '').trim();
                }
            }
            return "Untitled Article";
        }

        // Generate an enhanced offline article with specific content
        function generateEnhancedOfflineArticle(topic) {
            const now = new Date();
            
            // Find template for this topic
            const template = articleTemplates[topic];
            
            // If no specific template found, use a generic one
            if (!template) {
                return {
                    id: Date.now(),
                    title: topic,
                    content: `# ${topic}

## Introduction

This article explores the fascinating topic of ${topic}, examining its historical context, current relevance, and future implications in our rapidly changing world.

## Historical Background

The origins of ${topic} can be traced back through centuries of development and evolution. Understanding this historical context provides essential insights into its contemporary significance and future trajectory.

## Contemporary Relevance

In today's global landscape, ${topic} continues to play a crucial role in shaping economic, social, and cultural dynamics. Recent developments have highlighted both challenges and opportunities in this domain.

## Key Considerations

Several important factors deserve attention when examining ${topic}:
- The impact on local communities and global systems
- Environmental and sustainability considerations
- Technological innovations driving change
- Cultural preservation and adaptation

## Future Outlook

As we look toward the future, ${topic} presents both exciting possibilities and significant challenges. Continued research, innovation, and international cooperation will be essential for maximizing benefits while addressing potential concerns.

## Conclusion

${topic} represents an important area of study with far-reaching implications for our collective future. By understanding its complexities and embracing its potential, we can work toward more sustainable and equitable outcomes for all stakeholders involved.

---

*Article generated on ${now.toLocaleDateString()} at ${now.toLocaleTimeString()}*`,
                    date: now.toLocaleDateString(),
                    time: now.toLocaleTimeString(),
                    isOffline: true
                };
            }
            
            // Generate article content based on template
            const content = `# ${topic}

## Introduction

${template.intro}

## Key Aspects

${template.points.map(point => `* **${point}**`).join('\n')}

## Detailed Analysis

The examination of ${topic} reveals complex interconnections with various aspects of society, culture, and global systems. Recent studies and expert analyses have highlighted several important trends and patterns worth considering.

> "Understanding ${topic} requires a multidisciplinary approach that considers historical context alongside contemporary developments and future projections." - Expert Analysis

## Statistical Overview

Recent data provides valuable insights into the current state and trajectory of ${topic}:

| Aspect | Current Status | Trend Direction |
|--------|----------------|-----------------|
| Public Awareness | 68% | Increasing |
| Research Funding | $2.3B | Stable |
| Implementation Rate | 42% | Growing |
| Global Impact | High | Expanding |

## Conclusion

${template.conclusion} As research continues and new discoveries emerge, our understanding of this subject will undoubtedly deepen, revealing new opportunities and challenges that will shape future developments in this field.

---

*Article generated on ${now.toLocaleDateString()} at ${now.toLocaleTimeString()}*`;

            return {
                id: Date.now(),
                title: topic,
                content: content,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString(),
                isOffline: true
            };
        }

        // Render articles to the DOM
        function renderArticles() {
            if (articles.length === 0) {
                articlesContainer.style.display = 'none';
                emptyState.style.display = 'block';
                return;
            }
            
            articlesContainer.style.display = 'grid';
            emptyState.style.display = 'none';
            
            articlesContainer.innerHTML = articles.map(article => `
                <div class="article-card-original" data-article-id="${article.id}">
                    <div class="article-header">
                        <div class="article-title">${article.title}</div>
                        <div class="article-meta-original">
                            <span><i class="far fa-calendar me-1"></i>${article.date}</span>
                            <span><i class="far fa-clock me-1"></i>${article.time}</span>
                            ${article.isOffline ? '<span><i class="fas fa-wifi-slash me-1"></i>Offline</span>' : '<span><i class="fas fa-wifi me-1"></i>Online</span>'}
                        </div>
                        <button class="fullscreen-btn" onclick="openFullscreen(${JSON.stringify(article).replace(/"/g, '&quot;')})">
                            <i class="fas fa-expand"></i>
                        </button>
                    </div>
                    <div class="article-content-original">
                        ${formatMarkdown(article.content)}
                    </div>
                    <div class="article-footer">
                        <span><i class="fas fa-robot me-2"></i>AI Generated</span>
                        <button class="btn btn-sm btn-outline-light" onclick="shareArticle(${article.id})">
                            <i class="fas fa-share-alt"></i>
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Format markdown to HTML
        function formatMarkdown(markdown) {
            let html = markdown;
            
            // Headers
            html = html.replace(/^### (.*$)/gim, '<h3>$1</h3>');
            html = html.replace(/^## (.*$)/gim, '<h2>$1</h2>');
            html = html.replace(/^# (.*$)/gim, '<h1>$1</h1>');
            
            // Bold
            html = html.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
            
            // Italic
            html = html.replace(/\*(.+?)\*/g, '<em>$1</em>');
            
            // Lists
            html = html.replace(/^\* (.+)$/gim, '<li>$1</li>');
            html = html.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');
            
            // Blockquotes
            html = html.replace(/^> (.+)$/gim, '<blockquote>$1</blockquote>');
            
            // Tables
            html = html.replace(/\|(.+)\|/g, function(match) {
                const cells = match.split('|').filter(cell => cell.trim() !== '');
                const isHeader = cells.every(cell => cell.includes('-'));
                
                if (isHeader) return '';
                
                return '<tr>' + cells.map(cell => `<td>${cell.trim()}</td>`).join('') + '</tr>';
            });
            
            html = html.replace(/(<tr>.*<\/tr>)/gs, '<table>$1</table>');
            
            // Line breaks
            html = html.replace(/\n\n/g, '</p><p>');
            html = '<p>' + html + '</p>';
            
            // Horizontal rules
            html = html.replace(/---/g, '<hr>');
            
            return html;
        }

        // Open article in fullscreen
        function openFullscreen(article) {
            fullscreenArticleContent.innerHTML = formatMarkdown(article.content);
            fullscreenModal.classList.add('show');
            document.body.style.overflow = 'hidden';
            
            // Update URL with article ID for sharing
            const url = new URL(window.location);
            url.searchParams.set('article', article.id);
            window.history.pushState({}, '', url);
        }

        // Close fullscreen
        function closeFullscreen() {
            fullscreenModal.classList.remove('show');
            document.body.style.overflow = '';
            
            // Remove article ID from URL
            const url = new URL(window.location);
            url.searchParams.delete('article');
            window.history.pushState({}, '', url);
        }

        // Share article
        function shareArticle(id) {
            const article = articles.find(a => a.id === id);
            if (article) {
                // Create shareable URL
                const url = new URL(window.location);
                url.searchParams.set('article', id);
                const shareUrl = url.toString();
                
                if (navigator.share) {
                    navigator.share({
                        title: article.title,
                        text: article.content.substring(0, 100) + '...',
                        url: shareUrl
                    }).catch(err => console.log('Error sharing:', err));
                } else {
                    // Fallback - copy to clipboard
                    navigator.clipboard.writeText(shareUrl).then(() => {
                        showNotification('Link Copied', 'Article link copied to clipboard.');
                    });
                }
            }
        }

        // Show notification
        function showNotification(title, message) {
            const notificationTitle = notification.querySelector('.notification-title');
            const notificationMessage = notification.querySelector('.notification-message');
            
            notificationTitle.textContent = title;
            notificationMessage.textContent = message;
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Start countdown to next article generation
        function startCountdown() {
            // Clear existing countdown
            if (countdownInterval) {
                clearInterval(countdownInterval);
            }
            
            // Random interval between 1-2 hours (in milliseconds)
            const intervalMs = 60 * 60 * 1000 + Math.random() * 60 * 60 * 1000;
            let remainingTime = intervalMs;
            
            countdownInterval = setInterval(() => {
                remainingTime -= 1000;
                
                if (remainingTime <= 0) {
                    clearInterval(countdownInterval);
                    countdownElement.textContent = 'Generating...';
                    generateArticles();
                    return;
                }
                
                const hours = Math.floor(remainingTime / (1000 * 60 * 60));
                const minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);
                
                countdownElement.textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        // Schedule next article generation
        function scheduleNextArticleGeneration() {
            // Clear existing interval
            if (articleGenerationInterval) {
                clearInterval(articleGenerationInterval);
            }
            
            // Random interval between 1-2 hours (in milliseconds)
            const intervalMs = 60 * 60 * 1000 + Math.random() * 60 * 60 * 1000;
            
            articleGenerationInterval = setInterval(() => {
                generateArticles();
                // Reschedule with a new random interval
                scheduleNextArticleGeneration();
            }, intervalMs);
        }

        // Close fullscreen on ESC key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && fullscreenModal.classList.contains('show')) {
                closeFullscreen();
            }
        });

        // Close fullscreen on background click
        fullscreenModal.addEventListener('click', function(e) {
            if (e.target === fullscreenModal) {
                closeFullscreen();
            }
        });

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>